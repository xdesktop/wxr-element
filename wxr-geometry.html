<link rel="import" href="./polymerImport.html">

<dom-module id="wxr-geometry">
	<script>
		'use strict';

		class WXRGeometry extends WXRElement {
			constructor() {
				super();
			}

			static get is() {
				return "wxr-geometry";
			}

			connectedCallback() {
				super.connectedCallback();
				this.boundingBox = new THREE.Box3();
			}

			computeBoundingBox() {
				let box = new THREE.BoxHelper(this.webGLObject3D);

				let position = this.webGLObject3D.position;
				let rotation = this.webGLObject3D.rotation;
				let scale = this.webGLObject3D.scale;

				box.position.sub(position);
				box.rotation.sub(rotation);
				box.scale.divide(scale);

				this.webGLObject3D.add(box);

				return box;
			}
		}

		customElements.define(WXRGeometry.is, WXRGeometry);

	</script>
</dom-module>